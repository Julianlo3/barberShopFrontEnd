<div class="tituloSecunIcon">
  <i class="fa-solid fa-user-plus fa-4x"></i>
  <h2>Mi información</h2>
</div>

<form #clientForm="ngForm"  (ngSubmit)="onSubmit(clientForm)" class="row g-3 w-50 mx-auto p-4">
  <label for="newUserName">Nombre completo</label>
  <input type="text" class="form-control" id="newUserName"
         [(ngModel)]="Client.name" name="nombre"
         placeholder="Pepito bigotes" required minlength="4" #nombreCompleto="ngModel" [readOnly]="!editable">
  <div class="alert alert-danger" *ngIf="nombreCompleto.invalid && (nombreCompleto.dirty || nombreCompleto.touched) && editable">
    <div *ngIf="nombreCompleto.errors?.['required']">El nombre completo es obligatorio</div>
    <div *ngIf="nombreCompleto.errors?.['minlength']">El nombre completo debe tener al menos 4 carácteres</div>
  </div>

  <label for="celUser">Teléfono celular</label>
  <input type="tel" class="form-control" id="celUser"
         [(ngModel)]="Client.phone" name="cel"
         placeholder="317XXXXXXX" required minlength="10" maxlength="10"  pattern="^[0-9]*$" #cel="ngModel" [readOnly]="!editable">
  <div class="alert alert-danger" *ngIf="cel.invalid && (cel.dirty || cel.touched) && editable" >
    <div *ngIf="cel.errors?.['required']">El teléfono es obligatorio</div>
    <div *ngIf="cel.errors?.['minlength']">El teléfono debe tener 10 dígitos</div>
    <div *ngIf="cel.errors?.['pattern']">El teléfono no puede tener signos ni números negativos</div>
  </div>

  <div class="col-md-6">
    <label for="newUserEmail" class="form-label">Correo electrónico</label>
    <input type="email" class="form-control" id="newUserEmail" [(ngModel)]="Client.email" name="correo"
           placeholder="bigotes@gmail.com" #correo="ngModel" email required [readOnly]="!editable">
    <div class="alert alert-danger" *ngIf="correo.invalid && (correo.dirty || correo.touched) && editable">
      <div *ngIf="correo.errors?.['required']">El correo es obligatorio</div>
      <div *ngIf="correo.errors?.['email']">El tipo de correo es invalido</div>
    </div>
  </div>

  <div class="col-12 row justify-content-center mt-4">
    <button id="btnCrearCuenta" type="submit" role="button" class="btn btn-primary" [disabled]="!clientForm.form.valid" >Crear cuenta</button>
  </div>

  <div class="col-12 row justify-content-center mt-4">
    <button id="btnActualizar" type="submit" role="button" class="btn btn-secondary" *ngIf="editable" (click)="actualizarDatos(clientForm)">Actualizar</button>
  </div>

</form>

<div class="col-12 row justify-content-center mt-4">
  <button id="btnHabilitarEdicion" type="submit" role="button" class="btn btn-primary" *ngIf="!editable" (click)="activarEdicion()">Habilitar actualizar</button>
</div>


<div class="col-12 row justify-content-center mt-4">
  <button id="btnCancelar" type="submit" role="button" class="btn btn-danger" *ngIf="editable" (click)="disableClient()">Borrar cuenta</button>
</div>

<div class="col-12 row justify-content-center mt-4">
  <button id="btnCancelar" type="submit" role="button" class="btn btn-secondary" *ngIf="editable" (click)="desactivarEdicion()">Cancelar</button>
</div>
